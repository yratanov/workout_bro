<% content_for :title, t(".title") %>

<div class="w-full max-w-4xl">
  <h1 class="font-bold text-2xl mb-4 sm:mb-6"><%= t("settings.profile.show.title") %></h1>

  <div class="flex flex-col sm:flex-row gap-4 sm:gap-8">
    <%= render SettingsMenuComponent.new(current_page: :exports) %>

    <div class="flex-1 min-w-0">
      <div class="bg-slate-800 rounded-lg p-4 sm:p-6">
        <h2 class="font-semibold text-lg mb-4"><%= t(".export_workouts") %></h2>
        <p class="text-slate-400 text-sm mb-6"><%= t(".description") %></p>

        <div class="flex gap-4 mb-6">
          <%= stat_card label: t(".completed_workouts"), size: :sm do %>
            <%= @completed_workouts_count %>
          <% end %>
          <%= stat_card label: t(".exercises"), size: :sm do %>
            <%= @exercises_count %>
          <% end %>
        </div>

        <%= button_to settings_exports_path,
            method: :post,
            class: "inline-flex",
            disabled: @completed_workouts_count.zero? do %>
          <%= button text: t(".download_button"), style: "primary", tag: :span %>
        <% end %>

        <% if @completed_workouts_count.zero? %>
          <p class="text-slate-500 text-sm mt-4"><%= t(".no_workouts_hint") %></p>
        <% end %>
      </div>

      <div class="bg-slate-800 rounded-lg p-4 sm:p-6 mt-4">
        <h3 class="font-semibold mb-4"><%= t(".csv_format") %></h3>
        <p class="text-slate-400 text-sm mb-4"><%= t(".csv_format_description") %></p>

        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead>
              <tr class="text-left text-slate-400 border-b border-slate-700">
                <th class="pb-2 pr-4"><%= t(".column") %></th>
                <th class="pb-2"><%= t(".column_description") %></th>
              </tr>
            </thead>
            <tbody class="text-slate-300">
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">date</td>
                <td class="py-2"><%= t(".columns.date") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">workout_type</td>
                <td class="py-2"><%= t(".columns.workout_type") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">exercise_name</td>
                <td class="py-2"><%= t(".columns.exercise_name") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">muscle_group</td>
                <td class="py-2"><%= t(".columns.muscle_group") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">set_number</td>
                <td class="py-2"><%= t(".columns.set_number") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">rep_number</td>
                <td class="py-2"><%= t(".columns.rep_number") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">reps</td>
                <td class="py-2"><%= t(".columns.reps") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">weight</td>
                <td class="py-2"><%= t(".columns.weight") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">weight_unit</td>
                <td class="py-2"><%= t(".columns.weight_unit") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">band</td>
                <td class="py-2"><%= t(".columns.band") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">distance_meters</td>
                <td class="py-2"><%= t(".columns.distance_meters") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">time_seconds</td>
                <td class="py-2"><%= t(".columns.time_seconds") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">pace_per_km</td>
                <td class="py-2"><%= t(".columns.pace_per_km") %></td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="py-2 pr-4 font-mono text-xs">workout_notes</td>
                <td class="py-2"><%= t(".columns.workout_notes") %></td>
              </tr>
              <tr>
                <td class="py-2 pr-4 font-mono text-xs">set_notes</td>
                <td class="py-2"><%= t(".columns.set_notes") %></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
