<div class="bg-slate-800 rounded-lg p-5 mb-6">
  <%= app_form_with(model: workout_routine_day, url: workout_routine_day.new_record? ? workout_routine_workout_routine_days_path : workout_routine_workout_routine_day_path(workout_routine_day), class: "contents") do |form| %>
    <div class="flex gap-3 items-end">
      <div class="flex-1">
        <%= form.input :name, label: false, margin: "mb-0", input_html: { placeholder: t("workout_routine_days.form.name_placeholder") } %>
      </div>
      <%= form.submit t("shared.buttons.save") %>
    </div>
  <% end %>
</div>

<% unless workout_routine_day.new_record? %>
  <div class="mb-4">
    <h2 class="text-lg font-medium text-slate-300 mb-3"><%= t("workout_routine_days.form.exercises_title") %></h2>

    <%= turbo_frame_tag 'exercises' do %>
      <%= render "exercises", workout_routine_day: %>
    <% end %>

    <%= turbo_frame_tag 'new_exercise_form' do %>
    <% end %>

    <div class="mt-3">
      <%= button t("workout_routine_days.form.add_exercise"),
        type: "link",
        style: "link",
        method: :get,
        route: new_workout_routine_workout_routine_day_workout_routine_day_exercise_path(
          workout_routine_day.workout_routine,
          workout_routine_day,
        ),
        data: {
          turbo_method: :get,
          turbo_prefetch: false,
          turbo_frame: "new_exercise_form",
        } do %>
        <span class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="h-4 w-4" fill="currentColor">
            <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/>
          </svg>
          <%= t("workout_routine_days.form.add_exercise") %>
        </span>
      <% end %>
    </div>
  </div>
<% end %>
