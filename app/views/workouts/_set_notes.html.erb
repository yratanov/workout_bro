<% sets_with_notes = workout.workout_sets.select { |s| s.notes.present? } %>
<% if sets_with_notes.any? %>
  <div class="<%= local_assigns[:compact] ? 'mb-4' : 'mb-6' %>">
    <% if local_assigns[:compact] %>
      <div class="text-slate-400 text-xs mb-2"><%= t("workouts.modal.set_notes") %></div>
    <% else %>
      <%= section_header title: t("workouts.summary.set_notes"), icon: "note" %>
    <% end %>
    <div class="space-y-2">
      <% sets_with_notes.each do |ws| %>
        <div class="bg-slate-700/50 rounded-lg p-3">
          <div class="text-slate-400 text-xs mb-1"><%= ws.exercise.name %></div>
          <p class="text-slate-300 text-sm whitespace-pre-wrap"><%= ws.notes %></p>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
