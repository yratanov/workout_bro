<% content_for :title, t(".title") %>

<div class="w-full max-w-md">
  <div class="bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-700">
    <div class="flex flex-col items-center mb-8">
      <%= image_tag "icon.png", class: "w-16 h-16 mb-4" %>
      <h1 class="font-bold text-2xl text-white"><%= t(".title") %></h1>
      <p class="text-slate-400 mt-1"><%= t(".subtitle") %></p>
    </div>

    <div class="flex justify-center mb-6">
      <%= render_step_indicator(1, 5) %>
    </div>

    <%= app_form_with model: @user || User.new, url: setup_path, method: :patch, class: "space-y-6" do |form| %>
      <%= form.input :first_name,
                 label: t(".first_name_label"),
                 margin: "",
                 input_html: {
                   autofocus: true,
                   autocomplete: "given-name",
                   placeholder: t(".first_name_placeholder"),
                 } %>
      <%= form.input :last_name,
                 label: t(".last_name_label"),
                 margin: "",
                 input_html: {
                   autocomplete: "family-name",
                   placeholder: t(".last_name_placeholder"),
                 } %>
      <%= form.input :email_address,
                 as: :email,
                 label: t(".email_label"),
                 margin: "",
                 input_html: {
                   required: true,
                   autocomplete: "username",
                   placeholder: t(".email_placeholder"),
                 } %>
      <div>
        <%= form.input :password,
                   as: :password,
                   label: t(".password_label"),
                   margin: "",
                   input_html: {
                     required: !@user&.persisted?,
                     autocomplete: "new-password",
                     placeholder: t(".password_placeholder"),
                     maxlength: 72,
                   } %>
        <% if @user&.persisted? %>
          <p class="text-slate-500 text-xs mt-1"><%= t(".password_hint") %></p>
        <% end %>
      </div>
      <%= form.input :password_confirmation,
                 as: :password,
                 label: t(".password_confirmation_label"),
                 margin: "",
                 input_html: {
                   required: !@user&.persisted?,
                   autocomplete: "new-password",
                   placeholder: t(".password_confirmation_placeholder"),
                   maxlength: 72,
                 } %>
      <div class="pt-2">
        <%= form.submit t(".next") %>
      </div>
    <% end %>
  </div>
</div>
