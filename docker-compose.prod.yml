# Workout Bro - Production Docker Compose
# Usage: docker compose -f docker-compose.prod.yml up -d

services:
  web:
    image: yratanov/workout_bro:latest
    volumes:
      - workout_data:/rails/storage
    ports:
      - "3000:80"
    environment:
      - DISABLE_SSL=true
    restart: unless-stopped

  jobs:
    image: yratanov/workout_bro:latest
    command: bin/jobs
    volumes:
      - workout_data:/rails/storage
    environment:
      - DISABLE_SSL=true
    restart: unless-stopped
    depends_on:
      - web

volumes:
  workout_data:
